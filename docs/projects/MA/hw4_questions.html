<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joshua Chen">
<meta name="dcterms.date" content="2024-05-30">

<title>Joshua’s Website - Key Drivers Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>



<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>



<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Joshua’s Website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hobbies.html"> 
<span class="menu-text">Hobbies</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#key-variables" id="toc-key-variables" class="nav-link" data-scroll-target="#key-variables">Key Variables</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description">Data Description</a></li>
  </ul></li>
  <li><a href="#calculating-variable-importance" id="toc-calculating-variable-importance" class="nav-link" data-scroll-target="#calculating-variable-importance">Calculating Variable Importance</a>
  <ul class="collapse">
  <li><a href="#pearson-correlation" id="toc-pearson-correlation" class="nav-link" data-scroll-target="#pearson-correlation">Pearson Correlation</a></li>
  <li><a href="#polychoric-correlations" id="toc-polychoric-correlations" class="nav-link" data-scroll-target="#polychoric-correlations">Polychoric Correlations</a></li>
  <li><a href="#standardized-regression-coefficients" id="toc-standardized-regression-coefficients" class="nav-link" data-scroll-target="#standardized-regression-coefficients">Standardized Regression Coefficients</a></li>
  <li><a href="#usefulness-shapley-values" id="toc-usefulness-shapley-values" class="nav-link" data-scroll-target="#usefulness-shapley-values">Usefulness (Shapley Values)</a></li>
  <li><a href="#usefulness-permutation-importance" id="toc-usefulness-permutation-importance" class="nav-link" data-scroll-target="#usefulness-permutation-importance">Usefulness (Permutation Importance)</a></li>
  <li><a href="#joshnsons-relative-weights" id="toc-joshnsons-relative-weights" class="nav-link" data-scroll-target="#joshnsons-relative-weights">Joshnson’s Relative Weights</a></li>
  <li><a href="#mean-decrease-in-gini-coefficient" id="toc-mean-decrease-in-gini-coefficient" class="nav-link" data-scroll-target="#mean-decrease-in-gini-coefficient">Mean Decrease in Gini Coefficient</a></li>
  <li><a href="#xgboost-feature-importance" id="toc-xgboost-feature-importance" class="nav-link" data-scroll-target="#xgboost-feature-importance">XGBoost Feature Importance</a></li>
  </ul></li>
  <li><a href="#analysis-and-summary" id="toc-analysis-and-summary" class="nav-link" data-scroll-target="#analysis-and-summary">Analysis and Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Key Drivers Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joshua Chen </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 30, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>This post implements a few measure of variable importance, interpreted as a key drivers analysis, for certain aspects of a payment card on customer satisfaction with that payment card.</p>
<p>To start with the computation of variable importance, I first loaded the data.</p>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<section id="key-variables" class="level3">
<h3 class="anchored" data-anchor-id="key-variables">Key Variables</h3>
<p>The explanatory variables of the dataset are:</p>
<ul>
<li>trust - Is this a brand I trust</li>
<li>build - Does the card build credit quickly</li>
<li>differs - Is it different from other cards</li>
<li>easy - Is it easy to use</li>
<li>appealing - Does it have appealing benefits/rewards</li>
<li>rewarding - Does it reward me for responsible usage</li>
<li>popular - Is it used by a lot of people</li>
<li>service - Does it provide outstanding customer service</li>
<li>impact - Does it make a difference in my life</li>
</ul>
<p>The target variable is:</p>
<ul>
<li>satisfaction - How satisfied the customer is with the card (1-5)</li>
</ul>
</section>
<section id="data-description" class="level3">
<h3 class="anchored" data-anchor-id="data-description">Data Description</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Survey Data
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="4b814ce2" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<table id="itables_2b93582c_b03c_461a_9bd2_41a3e3e05334" class="display nowrap" data-quarto-disable-processing="true" style="table-layout:auto;width:auto;margin:auto;caption-side:bottom">
<thead>
    <tr style="text-align: right;">
      
      <th>brand</th>
      <th>id</th>
      <th>satisfaction</th>
      <th>trust</th>
      <th>build</th>
      <th>differs</th>
      <th>easy</th>
      <th>appealing</th>
      <th>rewarding</th>
      <th>popular</th>
      <th>service</th>
      <th>impact</th>
    </tr>
  </thead><tbody><tr>
<td style="vertical-align:middle; text-align:left">
<div style="float:left; margin-right: 10px;">
<a href="https://mwouts.github.io/itables/"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="64" viewbox="0 0 500 400" style="font-family: 'Droid Sans', sans-serif;">
    <g style="fill:#d9d7fc">
        <path d="M100,400H500V357H100Z"></path>
        <path d="M100,300H400V257H100Z"></path>
        <path d="M0,200H400V157H0Z"></path>
        <path d="M100,100H500V57H100Z"></path>
        <path d="M100,350H500V307H100Z"></path>
        <path d="M100,250H400V207H100Z"></path>
        <path d="M0,150H400V107H0Z"></path>
        <path d="M100,50H500V7H100Z"></path>
    </g>
    <g style="fill:#1a1366;stroke:#1a1366;">
   <rect x="100" y="7" width="400" height="43">
    <animate attributename="width" values="0;400;0" dur="5s" repeatcount="indefinite"></animate>
      <animate attributename="x" values="100;100;500" dur="5s" repeatcount="indefinite"></animate>
  </rect>
        <rect x="0" y="107" width="400" height="43">
    <animate attributename="width" values="0;400;0" dur="3.5s" repeatcount="indefinite"></animate>
    <animate attributename="x" values="0;0;400" dur="3.5s" repeatcount="indefinite"></animate>
  </rect>
        <rect x="100" y="207" width="300" height="43">
    <animate attributename="width" values="0;300;0" dur="3s" repeatcount="indefinite"></animate>
    <animate attributename="x" values="100;100;400" dur="3s" repeatcount="indefinite"></animate>
  </rect>
        <rect x="100" y="307" width="400" height="43">
    <animate attributename="width" values="0;400;0" dur="4s" repeatcount="indefinite"></animate>
      <animate attributename="x" values="100;100;500" dur="4s" repeatcount="indefinite"></animate>
  </rect>
        <g style="fill:transparent;stroke-width:8; stroke-linejoin:round" rx="5">
            <g transform="translate(45 50) rotate(-45)">
                <circle r="33" cx="0" cy="0"></circle>
                <rect x="-8" y="32" width="16" height="30"></rect>
            </g>

            <g transform="translate(450 152)">
                <polyline points="-15,-20 -35,-20 -35,40 25,40 25,20"></polyline>
                <rect x="-15" y="-40" width="60" height="60"></rect>
            </g>

            <g transform="translate(50 352)">
                <polygon points="-35,-5 0,-40 35,-5"></polygon>
                <polygon points="-35,10 0,45 35,10"></polygon>
            </g>

            <g transform="translate(75 250)">
                <polyline points="-30,30 -60,0 -30,-30"></polyline>
                <polyline points="0,30 -30,0 0,-30"></polyline>
            </g>

            <g transform="translate(425 250) rotate(180)">
                <polyline points="-30,30 -60,0 -30,-30"></polyline>
                <polyline points="0,30 -30,0 0,-30"></polyline>
            </g>
        </g>
    </g>
</svg>
</a>
</div>
<div>
Loading ITables v2.1.0 from the internet...
(need <a href="https://mwouts.github.io/itables/troubleshooting.html">help</a>?)</div></td>

</tr></tbody>

</table>
<link href="https://www.unpkg.com/dt_for_itables@2.0.7/dt_bundle.css" rel="stylesheet">
<script type="module">
    import {DataTable, jQuery as $} from 'https://www.unpkg.com/dt_for_itables@2.0.7/dt_bundle.js';

    document.querySelectorAll("#itables_2b93582c_b03c_461a_9bd2_41a3e3e05334:not(.dataTable)").forEach(table => {
        // Define the table data
        const data = [[1, 98, 3, 1, 0, 1, 1, 1, 0, 0, 1, 0], [1, 179, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 197, 3, 1, 0, 0, 1, 1, 1, 0, 1, 1], [1, 317, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1], [1, 356, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 395, 4, 1, 1, 0, 1, 1, 0, 1, 1, 0], [1, 586, 3, 1, 1, 1, 1, 1, 0, 1, 1, 0], [1, 596, 2, 1, 1, 1, 1, 1, 1, 0, 1, 1], [1, 978, 3, 1, 0, 0, 0, 0, 0, 1, 0, 0], [1, 987, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1002, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1039, 2, 0, 0, 1, 1, 0, 0, 0, 0, 1], [1, 1087, 4, 1, 0, 0, 1, 1, 0, 1, 0, 0], [1, 1226, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1282, 3, 1, 1, 0, 1, 0, 0, 0, 1, 0], [1, 1548, 4, 1, 0, 1, 1, 0, 0, 1, 1, 1], [1, 1594, 4, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 1637, 3, 1, 0, 0, 1, 1, 0, 0, 1, 0], [1, 1739, 5, 0, 0, 0, 0, 1, 1, 0, 0, 0], [1, 1796, 4, 1, 1, 1, 0, 0, 0, 0, 1, 0], [1, 1822, 4, 0, 0, 1, 0, 1, 0, 0, 1, 0], [1, 1856, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1871, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 2055, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 2111, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2133, 4, 1, 0, 1, 1, 1, 0, 1, 1, 0], [1, 2154, 4, 0, 0, 0, 1, 1, 0, 1, 0, 1], [1, 2241, 4, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 2273, 4, 1, 0, 0, 0, 0, 1, 0, 1, 0], [1, 2295, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2297, 3, 0, 0, 0, 1, 0, 0, 1, 0, 0], [1, 2298, 4, 1, 0, 0, 1, 0, 0, 1, 0, 1], [1, 2434, 4, 1, 0, 0, 1, 1, 1, 1, 1, 1], [1, 2527, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2586, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 2605, 3, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 2970, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2993, 3, 1, 1, 0, 1, 1, 1, 0, 1, 1], [1, 3103, 4, 1, 0, 0, 0, 1, 0, 1, 1, 1], [1, 3154, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 3166, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 3233, 4, 1, 1, 0, 1, 0, 1, 1, 1, 1], [1, 3447, 3, 0, 0, 1, 0, 0, 0, 0, 0, 0], [1, 3671, 2, 1, 1, 1, 0, 1, 1, 1, 1, 0], [1, 3686, 3, 1, 1, 1, 1, 1, 0, 0, 1, 0], [1, 3707, 4, 1, 1, 1, 1, 1, 1, 1, 1, 0], [1, 3784, 4, 0, 0, 1, 1, 1, 0, 0, 0, 0], [1, 3825, 4, 1, 0, 1, 1, 1, 0, 0, 1, 0], [1, 3838, 4, 1, 1, 0, 1, 1, 1, 1, 0, 0], [1, 3907, 4, 1, 0, 0, 1, 0, 0, 0, 0, 0], [1, 3918, 5, 1, 0, 1, 1, 1, 1, 1, 1, 1], [1, 3948, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 4026, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 4117, 4, 1, 0, 0, 0, 1, 1, 1, 0, 0], [1, 4286, 4, 1, 0, 0, 1, 1, 0, 1, 0, 0], [1, 4317, 2, 1, 0, 1, 0, 1, 0, 1, 0, 0], [1, 4404, 5, 1, 0, 0, 0, 1, 1, 1, 1, 0], [1, 4746, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 4844, 3, 0, 1, 0, 1, 0, 1, 0, 1, 0], [1, 4942, 5, 0, 1, 0, 1, 1, 0, 1, 1, 1], [1, 4973, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 5098, 5, 1, 1, 1, 1, 1, 1, 1, 0, 1], [1, 5152, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0], [1, 5227, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 5237, 4, 0, 0, 0, 1, 0, 0, 0, 1, 0], [1, 5279, 5, 1, 1, 0, 1, 1, 1, 0, 1, 0], [1, 5612, 4, 1, 0, 0, 1, 1, 0, 0, 1, 0], [1, 5745, 2, 1, 1, 1, 1, 1, 1, 0, 1, 1], [1, 5790, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 5793, 4, 1, 0, 1, 1, 0, 0, 1, 1, 1], [1, 5811, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 5854, 3, 0, 0, 0, 0, 1, 0, 0, 1, 0], [1, 5857, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 5876, 2, 0, 1, 1, 1, 1, 1, 0, 0, 0], [1, 5927, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 5970, 4, 0, 1, 1, 1, 1, 0, 1, 0, 1], [1, 6036, 4, 1, 1, 1, 1, 1, 1, 1, 1, 0], [1, 6041, 4, 0, 0, 0, 1, 1, 0, 1, 0, 1], [1, 6071, 4, 1, 1, 0, 1, 1, 1, 1, 0, 0], [1, 6073, 4, 1, 1, 1, 1, 1, 1, 1, 1, 0], [1, 6102, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 6157, 4, 1, 0, 1, 1, 0, 0, 0, 0, 0], [1, 6255, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 6307, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 6309, 4, 1, 0, 1, 0, 1, 1, 0, 0, 1], [1, 6319, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 6473, 3, 1, 1, 0, 1, 1, 0, 0, 1, 0], [1, 6477, 3, 1, 0, 0, 1, 1, 0, 1, 1, 1], [1, 6581, 3, 1, 0, 0, 1, 0, 1, 1, 0, 0], [1, 6621, 4, 1, 0, 1, 1, 1, 1, 1, 1, 0], [1, 6622, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 6630, 4, 1, 0, 1, 1, 1, 1, 0, 1, 1], [1, 6636, 2, 1, 1, 1, 1, 1, 1, 1, 0, 1], [1, 6860, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 6976, 2, 0, 1, 1, 1, 1, 1, 0, 1, 1], [1, 7166, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 7221, 4, 1, 0, 1, 0, 0, 0, 0, 1, 1], [1, 7285, 4, 1, 1, 1, 1, 1, 1, 0, 1, 1], [1, 7450, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 7466, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 7526, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 7537, 5, 1, 0, 0, 0, 1, 1, 1, 0, 0], [1, 7638, 5, 1, 1, 1, 1, 1, 1, 0, 1, 1], [1, 7665, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 7711, 4, 1, 0, 0, 0, 0, 1, 1, 1, 0], [1, 7730, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 7734, 5, 0, 1, 0, 1, 0, 1, 0, 0, 0], [1, 7751, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 7837, 2, 1, 1, 1, 0, 1, 0, 0, 1, 0], [1, 7857, 5, 1, 0, 0, 1, 1, 1, 1, 1, 0], [1, 8109, 3, 0, 1, 0, 0, 0, 1, 1, 0, 0], [1, 8145, 5, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 8220, 5, 1, 0, 1, 0, 0, 1, 0, 0, 1], [1, 8252, 4, 1, 1, 0, 1, 1, 1, 1, 1, 0], [1, 8311, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 8349, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 8366, 4, 1, 1, 1, 1, 0, 0, 1, 1, 1], [1, 8407, 5, 1, 1, 1, 0, 1, 0, 1, 1, 1], [1, 8418, 4, 0, 0, 0, 1, 1, 0, 0, 0, 0], [1, 8461, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 8538, 5, 1, 1, 1, 1, 1, 1, 1, 0, 1], [1, 8667, 4, 1, 1, 1, 1, 1, 1, 1, 0, 1], [1, 8721, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 8726, 3, 1, 1, 1, 1, 1, 1, 1, 1, 0], [1, 8728, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 8806, 4, 1, 0, 0, 1, 0, 1, 1, 1, 1], [1, 8878, 3, 1, 0, 1, 1, 1, 1, 1, 1, 1], [1, 8909, 4, 1, 0, 0, 1, 0, 0, 1, 1, 0], [1, 8913, 4, 1, 0, 0, 0, 0, 0, 0, 1, 0], [1, 8937, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 8995, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 9099, 5, 1, 0, 1, 1, 0, 1, 1, 1, 1], [1, 9197, 5, 0, 0, 0, 1, 1, 1, 1, 1, 0], [1, 9251, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 9320, 3, 0, 0, 0, 1, 1, 1, 1, 1, 0], [1, 9340, 2, 1, 0, 0, 1, 1, 0, 0, 1, 0], [1, 9347, 3, 1, 1, 1, 0, 1, 1, 1, 1, 0], [1, 9383, 4, 0, 0, 0, 1, 1, 1, 1, 1, 0], [1, 9451, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 9627, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 9689, 4, 1, 0, 1, 1, 1, 0, 0, 1, 1], [1, 9740, 4, 0, 0, 0, 0, 1, 0, 1, 0, 0], [1, 9845, 3, 1, 1, 0, 1, 0, 0, 0, 1, 0], [1, 9874, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0], [1, 9931, 4, 1, 0, 1, 1, 1, 1, 1, 1, 1], [1, 9943, 3, 0, 1, 1, 1, 0, 0, 0, 1, 0], [1, 9977, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0], [1, 10020, 5, 1, 1, 0, 1, 0, 1, 0, 1, 1], [1, 10189, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 10223, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 10243, 3, 0, 0, 0, 1, 0, 0, 1, 1, 0], [1, 10343, 5, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 10459, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 10519, 4, 1, 0, 0, 0, 1, 1, 0, 0, 0], [1, 10537, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0], [1, 10561, 4, 1, 0, 0, 1, 0, 0, 0, 0, 0], [1, 10624, 4, 1, 1, 0, 1, 1, 0, 1, 0, 1], [1, 10631, 4, 1, 0, 0, 1, 0, 0, 1, 1, 0], [1, 10654, 4, 1, 0, 0, 1, 0, 0, 0, 1, 1], [1, 10665, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 10706, 3, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 10710, 5, 0, 0, 1, 1, 1, 1, 1, 1, 1], [1, 10724, 2, 1, 0, 0, 1, 0, 0, 0, 1, 1], [1, 10769, 4, 0, 1, 0, 0, 0, 1, 0, 0, 0], [1, 10773, 2, 1, 1, 1, 1, 1, 1, 0, 1, 1], [1, 10918, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 11006, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 11016, 3, 1, 0, 0, 0, 0, 0, 0, 1, 1], [1, 11039, 5, 1, 0, 1, 1, 1, 1, 0, 1, 1], [1, 11364, 5, 1, 0, 0, 1, 1, 0, 1, 0, 0], [1, 11378, 3, 0, 0, 1, 0, 0, 0, 0, 1, 0], [1, 11385, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 11404, 4, 1, 0, 1, 0, 1, 0, 1, 1, 0], [1, 11513, 3, 1, 1, 0, 1, 0, 0, 0, 0, 0], [1, 11621, 4, 1, 0, 0, 0, 1, 0, 0, 0, 0], [1, 11669, 4, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 11670, 5, 1, 1, 0, 1, 0, 1, 1, 1, 0], [1, 11703, 5, 0, 0, 0, 1, 1, 0, 1, 0, 0], [1, 11888, 4, 1, 0, 1, 1, 1, 1, 1, 1, 0], [1, 12167, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 12365, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 12431, 3, 0, 0, 1, 0, 0, 0, 0, 0, 0], [1, 12521, 4, 1, 1, 1, 0, 1, 1, 1, 0, 0], [1, 12786, 4, 0, 0, 1, 1, 1, 1, 1, 0, 0], [1, 12987, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 13008, 4, 0, 0, 0, 1, 1, 1, 0, 0, 0], [1, 13052, 5, 1, 0, 0, 1, 1, 1, 1, 1, 0], [1, 13198, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 13214, 5, 1, 1, 0, 0, 1, 1, 1, 0, 0], [1, 13216, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 13329, 5, 1, 1, 1, 1, 1, 0, 0, 1, 0], [1, 13389, 4, 1, 0, 1, 1, 1, 1, 0, 0, 1], [1, 13496, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 13699, 3, 1, 0, 1, 1, 1, 0, 1, 1, 1], [1, 13735, 3, 0, 1, 0, 1, 1, 1, 0, 0, 1], [1, 13741, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 13909, 5, 1, 1, 1, 1, 1, 1, 1, 1, 0], [1, 14008, 5, 1, 1, 1, 1, 0, 0, 1, 1, 1], [1, 14019, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 14059, 4, 1, 0, 0, 0, 0, 1, 0, 1, 1], [1, 14153, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 14188, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 14197, 4, 1, 1, 1, 0, 1, 1, 0, 1, 0], [1, 14210, 2, 1, 0, 0, 1, 0, 0, 1, 0, 0], [1, 14420, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 14448, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0], [1, 14488, 5, 1, 1, 0, 1, 0, 1, 1, 1, 0], [1, 14590, 4, 1, 0, 0, 0, 0, 1, 1, 1, 0], [1, 14770, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 14800, 2, 0, 1, 0, 0, 0, 0, 0, 0, 1], [1, 15054, 3, 1, 1, 0, 1, 1, 1, 1, 1, 1], [1, 15119, 5, 0, 1, 0, 1, 1, 0, 1, 1, 1], [1, 15126, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 15135, 3, 0, 0, 1, 1, 1, 1, 1, 1, 0], [1, 15170, 4, 1, 0, 0, 1, 1, 0, 1, 1, 0], [1, 15238, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 15389, 4, 1, 1, 0, 1, 1, 1, 0, 0, 1], [1, 15478, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1], [1, 15487, 5, 1, 1, 0, 1, 1, 1, 1, 1, 1], [1, 15570, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 15615, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 15772, 4, 1, 0, 1, 1, 1, 1, 0, 1, 1], [1, 15803, 4, 0, 0, 1, 0, 0, 1, 0, 1, 0], [1, 15830, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 15867, 2, 1, 0, 1, 1, 1, 0, 0, 1, 0], [1, 15914, 4, 0, 0, 1, 0, 1, 1, 0, 0, 1], [1, 15926, 4, 0, 0, 0, 1, 1, 1, 0, 1, 1], [1, 15933, 5, 0, 1, 0, 0, 1, 0, 1, 1, 1], [1, 15936, 4, 0, 1, 1, 1, 1, 1, 1, 1, 0], [1, 15948, 4, 0, 0, 0, 0, 0, 0, 0, 1, 0], [1, 16012, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [1, 16081, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 16088, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 16120, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 16148, 5, 1, 0, 1, 1, 0, 0, 1, 0, 0], [1, 16149, 5, 1, 0, 1, 1, 1, 1, 1, 1, 1], [1, 16171, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 16206, 4, 1, 0, 0, 1, 1, 0, 0, 1, 0], [1, 16257, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [1, 16307, 4, 1, 1, 1, 1, 1, 1, 1, 0, 1], [1, 16461, 2, 1, 0, 0, 1, 0, 0, 1, 1, 0], [1, 16508, 4, 1, 0, 0, 1, 0, 0, 1, 1, 1], [1, 16516, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 16602, 4, 1, 0, 0, 1, 0, 0, 1, 1, 1], [1, 16730, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0], [1, 16820, 4, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 16981, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 16983, 3, 1, 0, 0, 0, 0, 1, 1, 1, 0], [1, 17022, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 17047, 2, 0, 0, 1, 1, 1, 0, 1, 0, 0], [1, 17205, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 17217, 4, 1, 1, 0, 1, 1, 0, 1, 1, 1], [1, 17220, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0], [1, 17303, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 17385, 4, 1, 0, 0, 0, 0, 0, 1, 0, 0], [1, 17410, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 17431, 5, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 17441, 2, 1, 1, 0, 1, 0, 1, 0, 1, 0], [1, 17625, 3, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 17629, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1], [1, 17730, 4, 1, 1, 0, 1, 1, 1, 0, 1, 0], [1, 17945, 4, 0, 1, 0, 1, 1, 1, 1, 1, 0], [1, 17954, 4, 1, 0, 0, 1, 1, 1, 0, 1, 1], [1, 18073, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0], [2, 179, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 309, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 356, 3, 1, 0, 0, 1, 1, 0, 1, 0, 0], [2, 364, 4, 1, 0, 0, 1, 1, 1, 1, 1, 1], [2, 369, 4, 0, 1, 0, 1, 0, 1, 1, 0, 1], [2, 391, 5, 0, 0, 1, 0, 0, 0, 0, 0, 1], [2, 397, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [2, 474, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 520, 2, 0, 1, 1, 1, 1, 1, 1, 1, 1], [2, 596, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [2, 648, 3, 1, 1, 0, 1, 0, 1, 0, 1, 1], [2, 860, 3, 1, 1, 0, 1, 1, 1, 1, 1, 0], [2, 914, 4, 0, 1, 1, 1, 0, 1, 0, 1, 0], [2, 987, 3, 1, 1, 1, 0, 1, 1, 1, 1, 1], [2, 1113, 2, 0, 0, 0, 0, 0, 0, 1, 1, 0], [2, 1237, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [2, 1294, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 1551, 3, 0, 0, 0, 0, 0, 0, 1, 0, 1], [2, 1594, 5, 1, 1, 0, 0, 0, 0, 0, 0, 1], [2, 1719, 3, 1, 0, 0, 1, 0, 0, 1, 0, 1], [2, 1730, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0], [2, 1736, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 1739, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [2, 1795, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 1796, 5, 1, 1, 0, 0, 0, 1, 0, 1, 0], [2, 1836, 5, 1, 0, 0, 1, 0, 0, 1, 1, 0], [2, 1871, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 1987, 3, 1, 1, 0, 1, 0, 0, 1, 0, 0], [2, 2111, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2133, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2154, 5, 1, 0, 0, 0, 0, 0, 1, 0, 0], [2, 2186, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2240, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 2272, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0], [2, 2298, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [2, 2339, 3, 1, 1, 1, 1, 1, 1, 1, 1, 0], [2, 2434, 4, 1, 0, 0, 1, 0, 0, 1, 0, 0], [2, 2443, 4, 0, 1, 1, 1, 1, 1, 1, 1, 1], [2, 2527, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2535, 5, 1, 0, 0, 0, 0, 0, 1, 0, 0], [2, 2584, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2605, 3, 1, 1, 1, 1, 0, 1, 0, 1, 1], [2, 2733, 5, 1, 0, 1, 1, 1, 0, 1, 0, 0], [2, 2894, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 2910, 5, 1, 1, 0, 1, 1, 1, 1, 0, 1], [2, 2968, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2970, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 3103, 4, 1, 0, 0, 0, 1, 0, 1, 1, 1], [2, 3233, 4, 1, 1, 1, 1, 0, 1, 0, 1, 1], [2, 3290, 3, 0, 0, 0, 0, 1, 1, 0, 0, 0], [2, 3316, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [2, 3343, 3, 1, 0, 0, 0, 1, 1, 1, 1, 0], [2, 3431, 4, 1, 1, 0, 0, 0, 1, 1, 0, 1], [2, 3447, 5, 0, 1, 0, 0, 0, 1, 0, 0, 1], [2, 3564, 3, 0, 0, 0, 0, 0, 0, 1, 1, 0], [2, 3607, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 3784, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 3842, 2, 1, 0, 0, 1, 1, 0, 0, 1, 0], [2, 3852, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1], [2, 3892, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 3907, 4, 1, 0, 1, 0, 0, 0, 0, 0, 0], [2, 3918, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 3965, 3, 1, 1, 0, 1, 1, 1, 1, 1, 0], [2, 3978, 3, 0, 1, 0, 1, 0, 0, 1, 1, 0], [2, 3993, 4, 1, 0, 1, 1, 1, 1, 0, 1, 0], [2, 4066, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], [2, 4093, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 4735, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 4746, 5, 0, 0, 0, 0, 1, 0, 0, 1, 1], [2, 4806, 3, 1, 0, 0, 1, 1, 1, 1, 0, 1], [2, 4973, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2, 5090, 4, 1, 0, 0, 0, 1, 1, 0, 0, 0], [2, 5215, 4, 1, 1, 1, 1, 0, 1, 1, 1, 0], [2, 5262, 4, 0, 0, 0, 1, 1, 0, 1, 1, 0], [2, 5358, 3, 1, 0, 1, 1, 1, 1, 1, 0, 0], [2, 5378, 3, 0, 0, 0, 0, 1, 1, 1, 1, 0], [2, 5437, 5, 0, 0, 0, 0, 1, 0, 0, 0, 1], [9, 13817, 4, 0, 0, 0, 0, 1, 0, 0, 0, 0], [9, 13887, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0], [9, 13907, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0], [9, 14008, 2, 1, 1, 1, 1, 0, 0, 1, 1, 0], [9, 14019, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 14059, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 14140, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [9, 14248, 3, 1, 0, 0, 0, 0, 0, 1, 0, 0], [9, 14301, 3, 0, 1, 0, 0, 1, 1, 0, 0, 0], [9, 14420, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 14448, 4, 1, 1, 0, 1, 0, 1, 1, 1, 0], [9, 14465, 4, 0, 1, 1, 1, 1, 0, 1, 0, 0], [9, 14552, 4, 0, 1, 0, 0, 1, 1, 0, 0, 0], [9, 14818, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0], [9, 14870, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [9, 14968, 5, 1, 1, 0, 1, 1, 1, 1, 1, 1], [9, 15008, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [9, 15023, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 15170, 2, 1, 0, 0, 0, 1, 0, 0, 1, 0], [9, 15238, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 15385, 4, 1, 1, 1, 0, 0, 0, 1, 0, 0], [9, 15421, 5, 1, 1, 1, 1, 1, 1, 1, 0, 1], [9, 15458, 5, 0, 1, 1, 0, 0, 0, 1, 1, 0], [9, 15462, 2, 1, 0, 0, 0, 0, 1, 0, 1, 0], [9, 15478, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0], [9, 15570, 3, 1, 0, 0, 0, 0, 0, 1, 0, 0], [9, 15607, 2, 0, 1, 0, 1, 0, 0, 0, 1, 1], [9, 15673, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [9, 15697, 4, 0, 1, 0, 0, 0, 0, 1, 0, 0], [9, 15772, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 15790, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 15803, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0], [9, 15922, 4, 0, 0, 1, 1, 0, 0, 0, 1, 1], [9, 16077, 4, 1, 1, 1, 0, 1, 0, 1, 1, 0], [9, 16088, 5, 0, 0, 0, 1, 0, 0, 1, 0, 0], [9, 16148, 4, 1, 1, 0, 1, 1, 1, 1, 0, 0], [9, 16149, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 16206, 3, 1, 1, 0, 1, 1, 0, 1, 1, 1], [9, 16255, 3, 0, 0, 0, 1, 0, 0, 0, 0, 0], [9, 16257, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [9, 16286, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1], [9, 16437, 4, 1, 0, 0, 0, 0, 0, 0, 1, 0], [9, 16730, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0], [9, 16761, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [9, 16763, 5, 1, 0, 0, 0, 0, 0, 1, 1, 0], [9, 16820, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [9, 16828, 4, 1, 1, 0, 0, 0, 1, 1, 0, 0], [9, 16922, 4, 1, 1, 0, 0, 0, 0, 0, 0, 0], [9, 17022, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 17047, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0], [9, 17156, 3, 0, 0, 0, 1, 1, 1, 1, 0, 0], [9, 17348, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 17358, 2, 0, 1, 0, 0, 1, 0, 1, 1, 0], [9, 17410, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 17730, 4, 1, 1, 0, 1, 0, 0, 0, 1, 0], [9, 17800, 2, 0, 1, 1, 0, 0, 1, 0, 1, 1], [9, 17808, 3, 1, 0, 0, 1, 0, 1, 1, 1, 0], [9, 17811, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 17984, 3, 1, 1, 0, 1, 0, 1, 0, 0, 0], [9, 18073, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 158, 3, 1, 1, 0, 0, 0, 0, 1, 0, 0], [10, 179, 5, 1, 0, 1, 0, 0, 1, 1, 0, 0], [10, 197, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0], [10, 309, 2, 1, 1, 0, 1, 0, 1, 0, 1, 0], [10, 391, 5, 0, 1, 0, 0, 0, 0, 0, 0, 0], [10, 395, 2, 1, 1, 0, 1, 1, 0, 1, 1, 0], [10, 520, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 586, 3, 1, 1, 0, 0, 0, 0, 0, 1, 0], [10, 596, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 600, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1], [10, 781, 2, 0, 1, 0, 0, 1, 0, 0, 0, 0], [10, 896, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0], [10, 914, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 968, 4, 1, 1, 0, 1, 0, 0, 1, 1, 0], [10, 1002, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 1041, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 1087, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0], [10, 1237, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [10, 1282, 3, 1, 1, 1, 1, 1, 0, 0, 1, 0], [10, 1294, 4, 1, 0, 0, 1, 0, 1, 1, 1, 1], [10, 1550, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 1585, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 1594, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1], [10, 1701, 4, 0, 1, 1, 1, 1, 0, 1, 0, 0], [10, 1719, 3, 1, 0, 1, 0, 1, 1, 1, 1, 0], [10, 1758, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0], [10, 1788, 5, 0, 1, 1, 0, 0, 0, 0, 0, 0], [10, 1796, 5, 1, 1, 0, 0, 0, 1, 1, 1, 0], [10, 1813, 5, 1, 1, 1, 1, 1, 1, 1, 1, 0], [10, 1856, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0], [10, 1860, 5, 1, 1, 1, 1, 1, 1, 1, 1, 0], [10, 1938, 2, 0, 0, 0, 1, 0, 0, 1, 1, 0], [10, 1987, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0], [10, 2012, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2111, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2193, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2200, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2240, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2241, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2272, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0], [10, 2295, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2434, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2437, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 2443, 4, 0, 1, 1, 1, 1, 0, 1, 0, 1], [10, 2531, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2535, 5, 1, 0, 0, 0, 0, 0, 1, 0, 0], [10, 2657, 3, 0, 0, 1, 0, 0, 0, 0, 0, 0], [10, 2779, 5, 1, 0, 1, 0, 0, 0, 0, 0, 0], [10, 2910, 5, 1, 1, 0, 1, 1, 1, 1, 1, 1], [10, 2967, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2968, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 2993, 3, 1, 1, 0, 1, 1, 1, 0, 1, 1], [10, 3042, 4, 1, 1, 1, 1, 0, 1, 0, 1, 0], [10, 3107, 5, 1, 1, 0, 1, 0, 1, 0, 1, 0], [10, 3125, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 3166, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 3186, 4, 1, 1, 0, 1, 0, 1, 1, 1, 0], [10, 3187, 2, 1, 1, 0, 1, 0, 1, 1, 1, 1], [10, 3291, 3, 1, 0, 0, 0, 1, 1, 0, 1, 0], [10, 3329, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0], [10, 3343, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 3431, 4, 1, 0, 0, 1, 1, 1, 0, 1, 1], [10, 3447, 5, 0, 0, 0, 1, 0, 0, 0, 0, 0], [10, 3489, 4, 1, 0, 0, 0, 0, 0, 1, 1, 1], [10, 3607, 4, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 3654, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 3665, 4, 1, 0, 1, 0, 1, 0, 1, 1, 0], [10, 3707, 4, 0, 1, 0, 1, 0, 0, 0, 0, 1], [10, 3727, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 3778, 4, 1, 0, 0, 1, 0, 0, 0, 1, 0], [10, 3811, 4, 1, 0, 0, 1, 1, 0, 1, 1, 0], [10, 3838, 2, 1, 0, 0, 0, 0, 1, 1, 1, 0], [10, 3842, 4, 1, 0, 0, 0, 1, 0, 1, 1, 0], [10, 3892, 4, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 3918, 4, 0, 1, 1, 0, 0, 0, 0, 1, 0], [10, 3959, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0], [10, 3965, 4, 1, 1, 0, 1, 1, 1, 1, 1, 0], [10, 3978, 4, 1, 1, 1, 1, 1, 0, 1, 1, 0], [10, 3993, 4, 1, 1, 0, 1, 0, 1, 0, 1, 1], [10, 4117, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 4223, 3, 0, 0, 0, 1, 0, 0, 0, 1, 0], [10, 4425, 3, 1, 1, 0, 1, 1, 1, 0, 1, 0], [10, 4508, 5, 1, 1, 0, 1, 1, 1, 0, 0, 0], [10, 4558, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 4806, 3, 1, 0, 0, 1, 1, 1, 1, 1, 1], [10, 4894, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 4909, 5, 1, 0, 0, 1, 1, 1, 1, 1, 0], [10, 4988, 4, 0, 0, 1, 0, 1, 0, 0, 0, 0], [10, 5378, 3, 1, 0, 1, 0, 0, 0, 0, 1, 0], [10, 5462, 4, 1, 1, 0, 1, 1, 1, 1, 1, 0], [10, 5790, 4, 0, 0, 1, 1, 1, 0, 1, 1, 1], [10, 5793, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 5810, 3, 1, 0, 0, 1, 0, 0, 0, 0, 0], [10, 5854, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 5876, 4, 1, 0, 0, 1, 0, 0, 1, 0, 1], [10, 5888, 4, 0, 0, 0, 0, 0, 0, 1, 1, 0], [10, 5927, 5, 0, 0, 0, 0, 1, 1, 1, 1, 1], [10, 5970, 4, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 5973, 4, 1, 0, 0, 0, 1, 0, 0, 1, 1], [10, 5974, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 5999, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6073, 3, 1, 1, 1, 0, 0, 1, 0, 1, 0], [10, 6174, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6232, 4, 1, 1, 0, 1, 1, 0, 1, 0, 0], [10, 6277, 3, 1, 1, 0, 0, 1, 0, 1, 0, 0], [10, 6287, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6370, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1], [10, 6431, 4, 1, 0, 0, 0, 1, 0, 1, 0, 0], [10, 6496, 4, 0, 1, 1, 1, 0, 0, 1, 0, 0], [10, 6581, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6630, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6670, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6730, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 6841, 3, 0, 0, 0, 1, 1, 0, 0, 0, 0], [10, 6989, 3, 1, 1, 1, 1, 1, 0, 1, 1, 1], [10, 7207, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 7285, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 7311, 4, 1, 0, 0, 0, 0, 0, 0, 1, 0], [10, 7410, 3, 1, 1, 1, 0, 1, 0, 1, 0, 0], [10, 7444, 4, 0, 0, 1, 0, 0, 0, 0, 0, 0], [10, 7526, 4, 1, 1, 1, 1, 0, 0, 1, 1, 1], [10, 7646, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 7658, 4, 1, 0, 1, 0, 1, 0, 1, 0, 0], [10, 7665, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 7730, 4, 1, 0, 1, 0, 0, 1, 1, 1, 0], [10, 7774, 3, 1, 0, 0, 1, 0, 0, 0, 1, 1], [10, 7805, 3, 0, 1, 0, 0, 0, 0, 0, 1, 0], [10, 7909, 5, 1, 1, 0, 1, 0, 0, 0, 1, 0], [10, 8109, 4, 0, 1, 1, 1, 1, 1, 0, 0, 0], [10, 8145, 5, 1, 1, 1, 0, 1, 0, 1, 0, 1], [10, 8171, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 8177, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 8245, 5, 0, 0, 0, 1, 0, 0, 0, 0, 0], [10, 8331, 5, 0, 1, 1, 0, 1, 1, 1, 1, 1], [10, 8461, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 8467, 3, 1, 1, 0, 1, 0, 0, 1, 0, 0], [10, 8656, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 8667, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 8721, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 8790, 5, 1, 1, 0, 1, 0, 0, 0, 1, 0], [10, 8806, 3, 1, 0, 1, 0, 1, 0, 0, 0, 1], [10, 8878, 3, 1, 1, 0, 1, 0, 1, 0, 0, 0], [10, 8909, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 8967, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9050, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 9099, 5, 1, 0, 0, 1, 0, 1, 1, 1, 1], [10, 9122, 3, 1, 1, 0, 1, 1, 1, 1, 1, 0], [10, 9171, 2, 1, 0, 0, 1, 1, 1, 1, 1, 0], [10, 9197, 2, 0, 0, 0, 0, 0, 1, 1, 1, 0], [10, 9212, 4, 0, 1, 0, 1, 0, 0, 1, 1, 1], [10, 9353, 4, 1, 0, 0, 0, 0, 0, 0, 1, 0], [10, 9434, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9497, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 9616, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9627, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9638, 2, 1, 0, 0, 1, 1, 0, 0, 1, 0], [10, 9689, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9759, 4, 1, 1, 0, 0, 0, 0, 1, 1, 1], [10, 9782, 4, 1, 1, 0, 1, 0, 1, 1, 1, 1], [10, 9833, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 9873, 4, 1, 1, 0, 1, 1, 1, 0, 0, 0], [10, 9874, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0], [10, 9907, 3, 0, 0, 0, 1, 1, 0, 0, 0, 0], [10, 10020, 5, 1, 1, 0, 1, 1, 1, 1, 1, 1], [10, 10042, 3, 1, 0, 0, 1, 0, 1, 0, 0, 0], [10, 10069, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 10165, 3, 0, 0, 0, 0, 1, 1, 0, 1, 1], [10, 10176, 3, 1, 0, 0, 0, 1, 0, 0, 0, 0], [10, 10189, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0], [10, 10259, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 10374, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 10429, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 10505, 5, 1, 0, 0, 1, 0, 1, 1, 1, 1], [10, 10537, 4, 1, 0, 0, 0, 0, 1, 1, 1, 1], [10, 10585, 3, 1, 1, 0, 1, 0, 0, 1, 1, 0], [10, 10631, 3, 1, 1, 0, 1, 1, 0, 1, 1, 0], [10, 10706, 3, 0, 1, 0, 1, 0, 1, 0, 1, 0], [10, 10779, 2, 0, 0, 1, 0, 0, 0, 0, 0, 0], [10, 10843, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 10918, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 10935, 4, 1, 1, 0, 1, 0, 0, 0, 1, 1], [10, 10939, 2, 0, 1, 1, 1, 1, 1, 1, 1, 0], [10, 11006, 3, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 11178, 2, 1, 0, 0, 0, 0, 0, 0, 1, 0], [10, 11198, 4, 1, 1, 0, 1, 0, 0, 1, 1, 1], [10, 11385, 5, 1, 0, 0, 1, 0, 0, 1, 0, 1], [10, 11461, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 11472, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 11599, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 11621, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 11669, 2, 0, 0, 0, 0, 1, 1, 1, 0, 0], [10, 11670, 2, 0, 0, 0, 1, 0, 0, 1, 0, 0], [10, 11703, 5, 1, 1, 0, 1, 0, 1, 1, 1, 0], [10, 11798, 4, 1, 1, 0, 0, 1, 1, 0, 1, 0], [10, 11874, 4, 1, 1, 0, 1, 1, 1, 1, 1, 0], [10, 11990, 3, 0, 0, 0, 0, 0, 1, 1, 0, 0], [10, 12156, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 12186, 3, 1, 1, 0, 0, 0, 0, 1, 1, 0], [10, 12190, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 12199, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 12364, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [10, 12365, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 12431, 4, 0, 1, 0, 1, 0, 0, 1, 1, 0], [10, 12786, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0], [10, 12987, 5, 0, 0, 0, 0, 0, 1, 1, 1, 0], [10, 13043, 4, 1, 1, 0, 1, 0, 1, 1, 1, 1], [10, 13046, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 13091, 2, 1, 1, 1, 0, 1, 1, 1, 1, 0], [10, 13221, 3, 1, 1, 1, 0, 1, 1, 1, 1, 1], [10, 13314, 5, 0, 0, 1, 0, 0, 0, 1, 1, 0], [10, 13340, 4, 1, 1, 0, 0, 0, 0, 1, 1, 0], [10, 13389, 4, 1, 0, 1, 1, 1, 1, 1, 0, 1], [10, 13431, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1], [10, 13496, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13545, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13631, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 13669, 3, 1, 1, 0, 1, 0, 1, 1, 1, 0], [10, 13715, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13887, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13907, 5, 1, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13959, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 13980, 3, 0, 1, 0, 1, 0, 0, 1, 0, 0], [10, 13997, 4, 1, 1, 0, 0, 0, 1, 0, 1, 1], [10, 14000, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 14008, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 14018, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 14141, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0], [10, 14188, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 14391, 5, 1, 1, 0, 1, 0, 1, 1, 1, 1], [10, 14448, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0], [10, 14462, 4, 1, 0, 0, 0, 0, 1, 0, 1, 0], [10, 14488, 5, 1, 1, 0, 1, 0, 1, 1, 1, 0], [10, 14489, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1], [10, 14547, 2, 1, 0, 0, 0, 0, 0, 1, 0, 0], [10, 14616, 2, 1, 0, 0, 0, 1, 1, 0, 0, 0], [10, 14757, 4, 0, 1, 0, 1, 1, 1, 1, 1, 1], [10, 14786, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 14800, 5, 1, 1, 0, 1, 1, 0, 0, 1, 1], [10, 14818, 4, 1, 1, 0, 1, 1, 1, 1, 1, 1], [10, 14842, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 14968, 5, 1, 0, 0, 1, 1, 1, 1, 1, 0], [10, 15157, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 15380, 4, 1, 1, 0, 1, 1, 1, 0, 1, 0], [10, 15473, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 15478, 4, 0, 0, 1, 1, 1, 1, 0, 1, 1], [10, 15570, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 15645, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 15673, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 15722, 5, 1, 1, 0, 1, 1, 1, 1, 1, 0], [10, 15790, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 15916, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 15917, 4, 0, 0, 1, 0, 1, 1, 0, 1, 0], [10, 15948, 4, 1, 1, 1, 1, 0, 1, 0, 0, 0], [10, 16149, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 16255, 3, 1, 0, 0, 1, 1, 0, 0, 0, 0], [10, 16257, 3, 1, 1, 0, 0, 0, 0, 1, 1, 0], [10, 16348, 3, 0, 1, 0, 0, 0, 1, 0, 0, 1], [10, 16352, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 16381, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 16508, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 16602, 3, 1, 0, 0, 1, 0, 0, 1, 1, 0], [10, 16763, 5, 1, 0, 0, 0, 0, 0, 1, 0, 0], [10, 16818, 4, 0, 1, 1, 1, 1, 1, 0, 1, 1], [10, 16820, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 16837, 2, 0, 1, 0, 0, 0, 0, 0, 0, 1], [10, 16892, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 16922, 4, 1, 1, 0, 0, 1, 0, 1, 0, 0], [10, 17047, 4, 0, 0, 1, 1, 0, 1, 0, 1, 0], [10, 17156, 2, 0, 0, 0, 0, 1, 1, 1, 0, 0], [10, 17205, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 17285, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 17348, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 17385, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0], [10, 17391, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1], [10, 17410, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0], [10, 17730, 4, 1, 1, 0, 1, 0, 0, 1, 0, 0], [10, 17800, 5, 1, 1, 0, 1, 0, 1, 1, 1, 1], [10, 17808, 3, 1, 0, 0, 1, 0, 1, 1, 1, 0], [10, 17893, 5, 0, 1, 1, 0, 0, 0, 0, 0, 0], [10, 17984, 3, 1, 1, 0, 1, 0, 1, 0, 0, 0], [10, 18073, 4, 0, 1, 0, 1, 0, 0, 0, 0, 0]];

        // Define the dt_args
        let dt_args = {"layout": {"topStart": "pageLength", "topEnd": "search", "bottomStart": "info", "bottomEnd": "paging"}, "order": [], "fnInfoCallback": function (oSettings, iStart, iEnd, iMax, iTotal, sPre) { return sPre + ' (<a href="https://mwouts.github.io/itables/downsampling.html">downsampled</a> from 2,553x12 to 682x12 as maxBytes=64KB)'; }};
        dt_args["data"] = data;

        
        new DataTable(table, dt_args);
    });
</script>
</div>
</div>
</div>
</div>
</div>
<p>As seen above, the explanatory variables are all binary representing the survey responses.</p>
<div id="38f0a73c" class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>There are 2553 rows in this data
There are 12 columns in this data</code></pre>
</div>
</div>
<p>The extra column is brand, numbered from 1-10, it will be excluded from further analysis.</p>
</section>
</section>
<section id="calculating-variable-importance" class="level2">
<h2 class="anchored" data-anchor-id="calculating-variable-importance">Calculating Variable Importance</h2>
<section id="pearson-correlation" class="level3">
<h3 class="anchored" data-anchor-id="pearson-correlation">Pearson Correlation</h3>
<p>The Pearson correlation coefficient measures the strength and direction of a linear relationship between two continuous variables. The coefficient ranges from -1 to 1, where:</p>
<ul>
<li>1 indicates a perfect positive linear relationship,</li>
<li>-1 indicates a perfect negative linear relationship,</li>
<li>0 indicates no linear relationship.</li>
</ul>
<p>Values closer to 1 or -1 suggest a stronger linear relationship, while values near 0 indicate a weaker relationship. Positive values mean that as one variable increases, so does the other, and negative values indicate that as one variable increases, the other decreases.</p>
<p>To calculate the Pearson Correlation, I used the <code>corr</code> method of the pandas DataFrame and specified the method as <code>pearson</code>.</p>
<p>The calculation is shown below:</p>
<div id="bad2b6cb" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> data.corr(method<span class="op">=</span><span class="st">'pearson'</span>)[<span class="st">'satisfaction'</span>].drop([<span class="st">'satisfaction'</span>, <span class="st">'brand'</span>, <span class="st">'id'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c547ce15" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display" data-execution_count="5">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pearson Correlation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">trust</td>
<td>0.255706</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">build</td>
<td>0.191896</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">differs</td>
<td>0.184801</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">easy</td>
<td>0.212985</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">appealing</td>
<td>0.207997</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">rewarding</td>
<td>0.194561</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">popular</td>
<td>0.171425</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">service</td>
<td>0.251098</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">impact</td>
<td>0.254539</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest positive correlations with customer satisfaction</p>
</section>
<section id="polychoric-correlations" class="level3">
<h3 class="anchored" data-anchor-id="polychoric-correlations">Polychoric Correlations</h3>
<p>Polychoric correlations are used to estimate the relationship between two ordinal variables by assuming that each is a discretized representation of an underlying continuous variable. This statistical method is particularly useful for data derived from surveys using Likert scales or similar ordinal scales, where the actual data points represent categories that approximate a continuous scale. Polychoric correlations operate by estimating the thresholds that separate these continuous latent variables into observed ordinal categories and then calculating the correlation between these latent variables.</p>
<p>To calculate the Polychoric Correlations, I used the <code>semopy</code> module from Python</p>
<p>The calculation is shown below:</p>
<div id="7f314e1f" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> semopy <span class="im">import</span> Model</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> semopy.examples <span class="im">import</span> multivariate_regression</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>desc <span class="op">=</span> <span class="st">'''satisfaction ~ trust + build + differs + easy + appealing + rewarding + popular + service + impact'''</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>mod <span class="op">=</span> Model(desc)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>mod.fit(data)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mod.inspect())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           lval  op          rval  Estimate  Std. Err    z-value       p-value
0  satisfaction   ~         trust  0.272677  0.056080   4.862253  1.160573e-06
1  satisfaction   ~         build  0.045942  0.053785   0.854175  3.930081e-01
2  satisfaction   ~       differs  0.069876  0.055060   1.269073  2.044149e-01
3  satisfaction   ~          easy  0.052377  0.056755   0.922853  3.560838e-01
4  satisfaction   ~     appealing  0.078803  0.055862   1.410653  1.583469e-01
5  satisfaction   ~     rewarding  0.010950  0.056160   0.194979  8.454093e-01
6  satisfaction   ~       popular  0.038642  0.051026   0.757302  4.488689e-01
7  satisfaction   ~       service  0.209313  0.056714   3.690688  2.236485e-04
8  satisfaction   ~        impact  0.319913  0.056430   5.669205  1.434619e-08
9  satisfaction  ~~  satisfaction  1.222821  0.034226  35.728140  0.000000e+00</code></pre>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest positive Polychoric correlations with customer satisfaction</p>
</section>
<section id="standardized-regression-coefficients" class="level3">
<h3 class="anchored" data-anchor-id="standardized-regression-coefficients">Standardized Regression Coefficients</h3>
<p>Standardized regression coefficients, often referred to as beta coefficients, are used in multiple regression analyses to assess the relative importance and impact of each independent variable on the dependent variable. These coefficients are derived from a regression model in which all variables (both independent and dependent) have been standardized to have a mean of zero and a standard deviation of one. This standardization removes the units, allowing the coefficients to be compared directly.</p>
<p>To compute the Standardized Regression Coefficients, I used a linear regression model from <code>sklearn</code> and also scaled the data with <code>StandardScaler</code> from sklearn</p>
<p>The computation is shown below</p>
<div id="78698e25" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> data.drop([<span class="st">'satisfaction'</span>, <span class="st">'brand'</span>, <span class="st">'id'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">'satisfaction'</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>X_scaled <span class="op">=</span> scaler.fit_transform(X)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> LinearRegression()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>model.fit(X_scaled, y)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>standardized_coefficients <span class="op">=</span> model.coef_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9281bc5d" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display" data-execution_count="8">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Standardized Coefficients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">trust</td>
<td>0.135635</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">build</td>
<td>0.023411</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">differs</td>
<td>0.032631</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">easy</td>
<td>0.025744</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">appealing</td>
<td>0.039647</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">rewarding</td>
<td>0.005937</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">popular</td>
<td>0.019470</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">service</td>
<td>0.103573</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">impact</td>
<td>0.150482</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest significant positive effect on satisfaction when all other variables are held constant.</p>
</section>
<section id="usefulness-shapley-values" class="level3">
<h3 class="anchored" data-anchor-id="usefulness-shapley-values">Usefulness (Shapley Values)</h3>
<p>Shapley values, a concept borrowed from cooperative game theory, offer a powerful method for interpreting machine learning models. These values measure the contribution of each feature to the prediction of a particular instance, by considering all possible combinations of features.</p>
<p>To compute the Shapley Values, I used the <code>Shap</code> module from Python and passed in the linear regression model above.</p>
<p>The computation is shown below</p>
<div id="2e7de910" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>explainer <span class="op">=</span> shap.Explainer(model, X_scaled)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute SHAP values</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>shap_values <span class="op">=</span> explainer(X_scaled)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the mean absolute SHAP values for each feature across all data points</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>shap_values <span class="op">=</span> np.<span class="bu">abs</span>(shap_values.values).mean(axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2210897d" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="10">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Shapley Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">trust</td>
<td>0.136576</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">build</td>
<td>0.023157</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">differs</td>
<td>0.028857</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">easy</td>
<td>0.025924</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">appealing</td>
<td>0.039060</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">rewarding</td>
<td>0.005861</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">popular</td>
<td>0.019465</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">service</td>
<td>0.102030</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">impact</td>
<td>0.130708</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest positive impact on the linear regression model’s prediction for satisfaction.</p>
</section>
<section id="usefulness-permutation-importance" class="level3">
<h3 class="anchored" data-anchor-id="usefulness-permutation-importance">Usefulness (Permutation Importance)</h3>
<p>Permutation importance is a technique used to measure the importance of individual features in a predictive model by evaluating the impact of shuffling each feature on the model’s performance. The process involves systematically randomizing the values of each feature across the dataset and observing the change in the model’s accuracy or other performance metrics. By disrupting the association between the feature and the target, the model’s performance typically decreases if the feature is important. The magnitude of the decrease, averaged over multiple shuffles, quantifies the feature’s importance.</p>
<p>To compute the Permutatio Importance, I used the <code>permutation_importance</code> function from <code>sklearn.inspection</code> and passed in the linear regression model above.</p>
<p>The computation is shown below:</p>
<div id="c7503947" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.inspection <span class="im">import</span> permutation_importance</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a linear model again to ensure it's correctly fit</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>model.fit(X_scaled, y)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute permutation importance</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> permutation_importance(model, X_scaled, y, n_repeats<span class="op">=</span><span class="dv">30</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bb7970ae" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="12">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">Permutation Importance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>trust</td>
<td>0.027039</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>build</td>
<td>0.000866</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>differs</td>
<td>0.001641</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>easy</td>
<td>0.001097</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>appealing</td>
<td>0.002386</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>rewarding</td>
<td>0.000097</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>popular</td>
<td>0.000523</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>service</td>
<td>0.016162</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>impact</td>
<td>0.033854</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest permutation importance, suggesting that they are the most importance features in determining customer satisfaction in the linear regression model.</p>
</section>
<section id="joshnsons-relative-weights" class="level3">
<h3 class="anchored" data-anchor-id="joshnsons-relative-weights">Joshnson’s Relative Weights</h3>
<p>Johnson’s relative weights are a method used to assess the importance of predictor variables in a regression model, especially useful in contexts where predictors are correlated. This technique calculates the contribution of each predictor to the R-squared value, adjusted for the overlap with other predictors. Each predictor’s relative weight is computed by first transforming the predictor variables into orthogonal (uncorrelated) components. Then, the squared multiple correlation (R-squared) from a regression of the dependent variable on these orthogonal components is computed. Each original predictor’s relative contribution is assessed by reconstructing the R-squared from these orthogonal components, attributing portions of the variance explained back to the original correlated predictors.</p>
<p>The computation is shown below:</p>
<div id="87720b70" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>betas <span class="op">=</span> model.coef_</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>feature_stds <span class="op">=</span> X.std().values</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the relative importance of each feature using Johnson's relative weights method</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>raw_importance <span class="op">=</span> np.square(betas <span class="op">*</span> feature_stds)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>relative_weights <span class="op">=</span> raw_importance <span class="op">/</span> raw_importance.<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3a615625" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="14">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Johnson Relative Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">trust</td>
<td>0.343209</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">build</td>
<td>0.010266</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">differs</td>
<td>0.017863</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">easy</td>
<td>0.012421</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">appealing</td>
<td>0.029334</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">rewarding</td>
<td>0.000658</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">popular</td>
<td>0.007105</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">service</td>
<td>0.201248</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">impact</td>
<td>0.377896</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest relative weights, suggesting that they are the most importance features in explaining the prediction variance of customer satisfaction in the linear regression model.</p>
</section>
<section id="mean-decrease-in-gini-coefficient" class="level3">
<h3 class="anchored" data-anchor-id="mean-decrease-in-gini-coefficient">Mean Decrease in Gini Coefficient</h3>
<p>The Mean Decrease in Gini Coefficient is a feature importance metric used in tree-based models such as Decision Trees and Random Forests. It quantifies each feature’s contribution to the model by calculating the average decrease in node impurity, measured by the Gini impurity, when the model splits on that feature. Gini impurity indicates the probability of incorrectly classifying a randomly chosen element in the dataset if it were randomly labeled according to the class distribution in the node. A feature with a higher Mean Decrease in Gini Coefficient is considered more important as it contributes more significantly to reducing uncertainty or “purifying” the outcomes at each split, thus enhancing the model’s predictive accuracy and efficiency in classifying or predicting the target variable.</p>
<p>To compute the Mean Decrease in Gini Coefficient, I trained a <code>Random Forest</code> and extracted the feature importance (which is the mean decrease in Gini Coefficient).</p>
<p>The computation is shown below:</p>
<div id="65594e51" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>rf_model <span class="op">=</span> RandomForestRegressor(n_estimators<span class="op">=</span><span class="dv">100</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>rf_model.fit(X_scaled, y)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the feature importances (Mean Decrease in Gini Coefficient)</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>feature_importances <span class="op">=</span> rf_model.feature_importances_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="80189024" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display" data-execution_count="16">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">Mean Decrease in Gini</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>trust</td>
<td>0.155865</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>build</td>
<td>0.102301</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>differs</td>
<td>0.089897</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>easy</td>
<td>0.099904</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>appealing</td>
<td>0.085534</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>rewarding</td>
<td>0.101057</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>popular</td>
<td>0.094944</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>service</td>
<td>0.129664</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>impact</td>
<td>0.140834</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest impurity decrease, suggesting that they are the most importance features in reducing impurity in the RF, indicating that they are the most importance features in predicting customer satisfaction.</p>
</section>
<section id="xgboost-feature-importance" class="level3">
<h3 class="anchored" data-anchor-id="xgboost-feature-importance">XGBoost Feature Importance</h3>
<p>XGBoost feature importance quantifies the contribution of each feature to the model’s predictive power, typically calculated using three different metrics: gain, cover, and frequency. Gain measures the average contribution of a feature to the model’s performance, specifically how much each feature contributes to improving the accuracy of splits it is involved in, weighted by the number of observations affected. Cover evaluates the number of observations affected by a feature’s inclusion in splits, emphasizing the feature’s relevance across different data points. Frequency counts how often a feature is used in splits across all trees, providing insight into its general utility. To compute the Mean Decrease in Gini Coefficient, I trained a Random Forest and extracted the feature importance (which is the mean decrease in Gini Coefficient).</p>
<p>To compute the XGBoost Feature Importance, I trained a <code>XGBoost Classifier</code> and extracted the feature importance.</p>
<p>The computation is shown below:</p>
<div id="1370ed13" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>xgb_model <span class="op">=</span> xgb.XGBRegressor(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>xgb_model.fit(X_scaled, y)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get feature importances from the XGBoost model</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>xgb_importances <span class="op">=</span> pd.Series(xgb_model.feature_importances_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5d7b5f75" class="cell" data-execution_count="18">
<div class="cell-output cell-output-display" data-execution_count="18">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">XGBoost Feature Importance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>trust</td>
<td>0.289867</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>build</td>
<td>0.078933</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>differs</td>
<td>0.056405</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>easy</td>
<td>0.071498</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>appealing</td>
<td>0.065786</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>rewarding</td>
<td>0.065396</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>popular</td>
<td>0.076136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>service</td>
<td>0.111327</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>impact</td>
<td>0.184652</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>The results show that features <code>trust</code>, <code>service</code>, and <code>impact</code> have the highest feature importance, suggesting that they are the most importance in predicting customer satisfaction for the XGBoost model.</p>
</section>
</section>
<section id="analysis-and-summary" class="level2">
<h2 class="anchored" data-anchor-id="analysis-and-summary">Analysis and Summary</h2>
<p>Below is the table that combines all the metrics created above:</p>
<div id="cf0f548f" class="cell" data-execution_count="19">
<div class="cell-output cell-output-display" data-execution_count="19">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">Pearson Correlation</th>
<th data-quarto-table-cell-role="th">Polychoric Correlation</th>
<th data-quarto-table-cell-role="th">Standardized Regression Coefficients</th>
<th data-quarto-table-cell-role="th">Shapley Values</th>
<th data-quarto-table-cell-role="th">Johnson's Relative Weights</th>
<th data-quarto-table-cell-role="th">Permutation Importance</th>
<th data-quarto-table-cell-role="th">Mean Decrease in Gini</th>
<th data-quarto-table-cell-role="th">XGBoost Feature Importance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>trust</td>
<td>0.255706</td>
<td>0.272677</td>
<td>0.135635</td>
<td>0.136576</td>
<td>0.343209</td>
<td>0.027039</td>
<td>0.155865</td>
<td>0.289867</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>build</td>
<td>0.191896</td>
<td>0.045942</td>
<td>0.023411</td>
<td>0.023157</td>
<td>0.010266</td>
<td>0.000866</td>
<td>0.102301</td>
<td>0.078933</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>differs</td>
<td>0.184801</td>
<td>0.069876</td>
<td>0.032631</td>
<td>0.028857</td>
<td>0.017863</td>
<td>0.001641</td>
<td>0.089897</td>
<td>0.056405</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>easy</td>
<td>0.212985</td>
<td>0.052377</td>
<td>0.025744</td>
<td>0.025924</td>
<td>0.012421</td>
<td>0.001097</td>
<td>0.099904</td>
<td>0.071498</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>appealing</td>
<td>0.207997</td>
<td>0.078803</td>
<td>0.039647</td>
<td>0.039060</td>
<td>0.029334</td>
<td>0.002386</td>
<td>0.085534</td>
<td>0.065786</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>rewarding</td>
<td>0.194561</td>
<td>0.010950</td>
<td>0.005937</td>
<td>0.005861</td>
<td>0.000658</td>
<td>0.000097</td>
<td>0.101057</td>
<td>0.065396</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>popular</td>
<td>0.171425</td>
<td>0.038642</td>
<td>0.019470</td>
<td>0.019465</td>
<td>0.007105</td>
<td>0.000523</td>
<td>0.094944</td>
<td>0.076136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>service</td>
<td>0.251098</td>
<td>0.209313</td>
<td>0.103573</td>
<td>0.102030</td>
<td>0.201248</td>
<td>0.016162</td>
<td>0.129664</td>
<td>0.111327</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>impact</td>
<td>0.254539</td>
<td>0.319913</td>
<td>0.150482</td>
<td>0.130708</td>
<td>0.377896</td>
<td>0.033854</td>
<td>0.140834</td>
<td>0.184652</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>From the table above, we can see that <code>Trust, Impact, and Service</code> are consistantly ranked top 3 in all of the metrics created. <code>Trust</code> is either first or <code>Impact</code> is first and <code>Service</code> is always third.</p>
<p>This suggests that <code>Trust, Impact and Service</code> are the most important features for customer satisfaction when it comes to payment cards, indicating that customers value whether or not the brand is trustable, the impact the card will have in the customers life, and the customer service the company provides when they are considering their choice of cards.</p>
<p>With this information, payment card companies should:</p>
<ul>
<li>Focus on building and maintaining their company’s image as a trusted braand to the public</li>
<li>Offer benefits that can positive impact customer’s life</li>
<li>Invest in their customer service representatives and aim to offer more support to customers as well as increase the quality of support.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>